<loading-root *ngIf="isLoading"></loading-root>
<div class="row" [ngClass]="{'onloading':isLoading}">
        <div class="card white">
            <div class="card-content">
                <span class="card-title"><h3>{{sectionName}}</h3></span>
                <hr class="hr-form"><br>
                <div class="row">
                    <!-- <div class="col s12">
                        <h4>{{sectionName}}</h4>
                    </div> -->
                   
                    <ul class="pagination col s6" *ngIf="!isIntroShow">
                        <li class="waves-effect" [ngClass]="{'active':sectionProgress == idx+1}" *ngFor="let k of pagination;let idx=index">
                            <a href="javascript:void(0)" (click)="goToPage(idx+1)">{{idx+1}}</a>
                        </li>
                    </ul>
                    <div class="col s6" *ngIf="!isIntroShow" id="countdown">
                    </div>
                </div>
                <div class="progress" *ngIf="!isIntroShow">
                    <div class="determinate" id="formProgress" style="width: 0%"></div>
                    <div class="progress-text">
                        <h4 class="center-align">{{sectionProgress}}/{{processDone}}</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        <div class="row" *ngIf="!isIntroShow && currentDataSection != undefined">
                            <form #f="ngForm" (ngSubmit)="onSubmit(f)" id="cognitive-form" novalidate>
                                <div *ngFor="let propQs of currentDataSection.questions;let iQs=index" id="question_{{iQs + 1}}" [hidden]="iQs != 0">
                                        <p *ngIf="propQs.type!='fullimage'" class="flow-text col s12">{{iQs+1}}. &nbsp;&nbsp; {{propQs.name}}</p>
                                        <div *ngIf="propQs.type=='fullimage'">
                                                <p class="flow-text">
                                                    {{iQs+1}}.
                                                </p>
                                                <div class="col s5">
                                                        <img class="responsive-img" src="{{propQs.name}}">
                                                </div>
                                        </div>
                                        <div class="col s12">&nbsp;&nbsp;</div>
                                        <div *ngFor="let propAnswer of propQs.answers;let idx=index">
                                            <div class="col s2" *ngIf="propQs.type=='image' || propQs.type=='fullimage'">
                                                <input value="{{propAnswer.answerId}}" class="with-gap" name="{{propQs.questionId}}" type="radio" id="{{propAnswer.answerId}}"  ngModel/>
                                                <label for="{{propAnswer.answerId}}">
                                                    <img class="responsive-img" style="width: 135px;" src="{{propAnswer.name}}">
                                                    <p *ngIf="idx==0" class="center-align">A.</p>
                                                    <p *ngIf="idx==1" class="center-align">B.</p>
                                                    <p *ngIf="idx==2" class="center-align">C.</p>
                                                    <p *ngIf="idx==3" class="center-align">D.</p>
                                                    <p *ngIf="idx==4" class="center-align">E.</p>
                                                </label>
                                            </div>
                                            <p *ngIf="propQs.type=='text'" class="col s2">
                                                <input value="{{propAnswer.answerId}}" class="with-gap" name="{{propQs.questionId}}" type="radio" id="{{propAnswer.answerId}}" ngModel />
                                                <label for="{{propAnswer.answerId}}">
                                                    <p *ngIf="idx==0" class="left-align left">A.&nbsp;&nbsp;</p>
                                                    <p *ngIf="idx==1" class="left-align left">B.&nbsp;&nbsp;</p>
                                                    <p *ngIf="idx==2" class="left-align left">C.&nbsp;&nbsp;</p>
                                                    <p *ngIf="idx==3" class="left-align left">D.&nbsp;&nbsp;</p>
                                                    <p *ngIf="idx==4" class="left-align left">E.&nbsp;&nbsp;</p>
                                                    {{propAnswer.name}}
                                                </label>
                                            </p>
                                        </div>
                                    </div>
						            <button type="submit" id="btn-submit" style="display: none"></button>
                            </form>
                        </div>
                        <div class="row" *ngIf="isIntroShow">
                            <h5>Waktu : {{Duration}} Menit</h5>
                            <h5>Jumlah soal : {{processDone}} Soal</h5>
                            <br>
                            <br>
                            <div [innerHTML]="IntroSection">
                            </div>
                            <br>
                            <p class="flow-text">
                                    Apabila anda sudah mengerti dengan cara pengerjaan dari intruksi di atas, harap menekan tombol <b>"MULAI"</b> untuk melakukan tes.
                            </p>
                        </div>
                        
                    </div>
                </div>
            </div>
            <div class="card-action">
              <!-- <a *ngIf="sectionProgress > 1" class="waves-effect waves-light btn" (click)="Back()"><i class="material-icons left">arrow_back</i>Sebelumnya</a> -->
              <a *ngIf="isIntroShow" class="waves-effect waves-light btn" (click)="Start()"><i class="material-icons right">forward</i>Mulai</a>
              <a *ngIf="sectionProgress != processDone && !isIntroShow" class="waves-effect waves-light btn" (click)="Next()"><i class="material-icons right">arrow_forward</i>Selanjutnya</a>
              <button [ngClass]="{'hide':sectionProgress != processDone}" id="selesai" class="waves-effect waves-light btn" (click)="Done()"><i class="material-icons right">send</i>Selesai</button>
            </div>
        </div>
    </div>